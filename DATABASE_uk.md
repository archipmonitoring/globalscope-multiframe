# Налаштування бази даних та демонстраційні дані для GlobalScope MultiFrame 11.0

## Огляд

*Документація також доступна англійською мовою: [DATABASE.md](DATABASE.md)*

*Дивіться [політику мови](docs/language_policy_uk.md) для отримання додаткової інформації про мовні версії.*

## Огляд

GlobalScope MultiFrame 11.0 використовує Redis як основне сховище даних. Цей документ пояснює, як налаштувати базу даних та ініціалізувати її демонстраційними даними для тестування та розробки.

## Вимоги

1. Встановлений та запущений сервер Redis
2. Python 3.8 або вище
3. Встановлені необхідні пакети Python (з requirements.txt)

## Структура даних Redis

Система використовує наступні ключові патерни Redis:

- `user:*` - Профілі користувачів та дані автентифікації
- `driver:*` - Згенеровані драйвери мікросхем
- `collab:*` - Сесії співпраці
- `process:*` - Процеси проектування мікросхем
- `nft:*` - Записи Web3 NFT
- `quest:*` - Навчальні квести
- `config:*` - Конфігурація системи
- `analytics:*` - Метрики продуктивності

Лічильники для генерації унікальних ID:
- `driver_counter`
- `collab_counter`
- `process_counter`
- `quest_counter`
- `nft_counter`

## Ініціалізація демонстраційних даних

### Використання Python скрипта

1. Переконайтесь, що сервер Redis запущено на localhost:6379
2. Запустіть скрипт ініціалізації:

```bash
python init_demo_data.py
```

Це призведе до:
- Очищення будь-яких існуючих даних у Redis
- Створення зразків користувачів, драйверів, співпраці, процесів, NFT та квестів
- Налаштування конфігурації системи та аналітичних даних

### Використання shell скриптів

Для систем Unix/Linux:
```bash
chmod +x init_demo_data.sh
./init_demo_data.sh
```

Для систем Windows:
```cmd
init_demo_data.bat
```

## Перевірка демонстраційних даних

Для перевірки правильного завантаження демонстраційних даних:

```bash
python verify_demo_data.py
```

Цей скрипт відобразить підсумок всіх даних, завантажених до Redis.

## Включені демонстраційні дані

Демонстраційні дані включають:

1. **Користувачі**:
   - HoloMisha (адміністратор)
   - QuantumDesigner (дизайнер)
   - ChipMaster (інженер)

2. **Драйвери мікросхем**:
   - Драйвер квантового процесора
   - Драйвер нейронного процесора
   - Драйвер криптопроцесора

3. **Співпраця**:
   - Активна співпраця над проектом квантової мікросхеми
   - Завершена співпраця над нейронним процесором

4. **Процеси**:
   - Завершений процес квантової мікросхеми
   - Запущений процес нейронного процесора

5. **NFT**:
   - NFT квантової мікросхеми
   - NFT нейронного процесора

6. **Квести**:
   - Завершений квест проектування квантової мікросхеми
   - Активний квест оптимізації нейронної мережі

## Налаштування через Docker Compose

Система включає файл docker-compose.yml, який можна використовувати для запуску всіх сервісів, включаючи Redis:

```bash
cd src
docker-compose up -d
```

Це запустить:
- Сервер Redis на порту 6379
- Основний API HoloMisha на порту 8000
- Шлюз API Kong на порту 8001
- Моніторинг Prometheus на порту 9090
- Панель Grafana на порту 3000

## Вирішення проблем

### Проблеми з підключенням до Redis

Якщо виникають проблеми з підключенням:

1. Перевірте, чи запущено Redis:
   ```bash
   redis-cli ping
   ```

2. Перевірте конфігурацію Redis:
   ```bash
   redis-cli info
   ```

3. Якщо використовуєте Docker, переконайтесь, що контейнер Redis запущено:
   ```bash
   docker ps
   ```

### Проблеми з ініціалізацією даних

Якщо ініціалізація демонстраційних даних не вдається:

1. Перевірте підключення до Redis у Python скрипті
2. Переконайтесь, що всі необхідні пакети Python встановлено
3. Перевірте дозволи Redis для модифікації даних

## Налаштування демонстраційних даних

Для налаштування демонстраційних даних:

1. Відредагуйте `init_demo_data.py`, щоб змінити зразки даних
2. Запустіть скрипт знову, щоб перезавантажити дані
3. Використовуйте `verify_demo_data.py` для підтвердження змін

Скрипт ініціалізації даних розроблено як ідемпотентний, тобто його можна запускати кілька разів без виникнення проблем.