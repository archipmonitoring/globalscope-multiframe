# Комплексна документація API для GlobalScope MultiFrame 11.0

*Документація також доступна англійською мовою: [comprehensive_api_docs.md](comprehensive_api_docs.md)*

# Комплексна документація API для GlobalScope MultiFrame 11.0

## Огляд
Цей документ надає детальну документацію для всіх ендпоінтів API у платформі GlobalScope MultiFrame 11.0. Кожен ендпоінт включає детальні описи, параметри, приклади запитів/відповідей та умови помилок.

## Базова URL-адреса
```
http://localhost:8000
```

## Автентифікація
Більшість ендпоінтів вимагають автентифікації. Використовуйте ендпоінт `/auth/login` для отримання токена сесії.

## Ендпоінти API за функціональною областю

### 1. Керування системою

#### GET /system/
**Опис**: Кореневий ендпоінт, який повертає статус системи.

**Відповідь**:
```json
{
  "status": "online",
  "message": "HoloMisha програмує всесвіт!"
}
```

#### POST /system/mode/{mode}
**Опис**: Встановити режим виконання системи.

**Параметри**:
- `mode` (шлях): Режим виконання (DEVELOPMENT, PRODUCTION, TESTING)

**Відповідь**:
```json
{
  "status": "success",
  "mode": "PRODUCTION"
}
```

**Відповідь про помилку**:
```json
{
  "status": "error",
  "message": "Недійсний режим"
}
```

### 2. Автентифікація

#### POST /auth/login
**Опис**: Автентифікація користувача та отримання токена сесії.

**Параметри**:
- `username` (тіло): Ім'я користувача
- `token` (тіло): Токен автентифікації

**Запит**:
```json
{
  "username": "SuperHoloMisha",
  "token": "super_secret_token"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "session_id": "session_12345",
  "user_id": "user_123"
}
```

**Відповідь про помилку**:
```json
{
  "status": "error",
  "message": "Недійсні облікові дані"
}
```

#### POST /auth/logout
**Опис**: Завершити сесію користувача.

**Параметри**:
- `session_id` (тіло): ID сесії для завершення

**Запит**:
```json
{
  "session_id": "session_12345"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "message": "Сесію завершено"
}
```

### 3. Проектування мікросхем

#### POST /chip/process
**Опис**: Створити новий процес проектування мікросхеми.

**Параметри**:
- `process_id` (тіло): Унікальний ідентифікатор процесу
- `chip_data` (тіло): Дані, що описують мікросхему для проектування

**Запит**:
```json
{
  "process_id": "process_001",
  "chip_data": {
    "type": "quantum_processor",
    "cores": 128,
    "frequency": "4.5GHz"
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "process_id": "process_001",
  "message": "Процес ініціалізовано"
}
```

**Відповідь про помилку**:
```json
{
  "status": "error",
  "message": "Помилка валідації безпеки"
}
```

#### POST /chip/zero-defect
**Опис**: Забезпечити проект мікросхеми без дефектів.

**Параметри**:
- `user_id` (тіло): ID користувача, який ініціює процес
- `chip_id` (тіло): ID мікросхеми для валідації
- `chip_data` (тіло): Дані, що описують мікросхему
- `lang` (запит): Мова для сповіщень (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "chip_id": "chip_001",
  "chip_data": {
    "type": "quantum_processor",
    "cores": 128,
    "frequency": "4.5GHz"
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "chip_id": "chip_001",
  "message": "Валідація без дефектів пройшла"
}
```

### 4. Аналітика

#### GET /analytics/metrics/{chip_id}
**Опис**: Отримати метрики продуктивності для конкретної мікросхеми.

**Параметри**:
- `chip_id` (шлях): ID мікросхеми для аналізу

**Відповідь**:
```json
{
  "status": "success",
  "chip_id": "chip_001",
  "metrics": {
    "performance": 95.5,
    "efficiency": 87.2,
    "temperature": 45.3
  }
}
```

#### GET /analytics/trends/{chip_id}
**Опис**: Аналізувати тенденції продуктивності для конкретної мікросхеми.

**Параметри**:
- `chip_id` (шлях): ID мікросхеми для аналізу
- `hours` (запит): Кількість годин для аналізу (за замовчуванням: 24)

**Відповідь**:
```json
{
  "status": "success",
  "chip_id": "chip_001",
  "trends": {
    "performance": [92.1, 93.5, 94.2, 95.5],
    "efficiency": [85.2, 86.1, 86.8, 87.2],
    "temperature": [42.1, 43.5, 44.2, 45.3]
  }
}
```

### 5. Безпека

#### GET /security/threats
**Опис**: Отримати інформацію про заблоковані загрози безпеки.

**Відповідь**:
```json
{
  "status": "success",
  "threats_blocked": 42,
  "recent_threats": [
    {
      "type": "DDoS",
      "timestamp": "2025-09-29T10:30:00Z",
      "source": "192.168.1.100"
    }
  ]
}
```

### 6. Генерація хешів

#### POST /hash/rtl
**Опис**: Генерувати хеш для RTL коду.

**Параметри**:
- `rtl_code` (тіло): RTL код для хешування
- `algorithm` (тіло): Алгоритм хешування (за замовчуванням: "sha256")

**Запит**:
```json
{
  "rtl_code": "module example(...",
  "algorithm": "sha256"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "hash": "a1b2c3d4e5f6...",
  "algorithm": "sha256"
}
```

### 7. Квантове моделювання

#### POST /simulate/quantum/{chip_id}
**Опис**: Запустити квантове моделювання для проекту мікросхеми.

**Параметри**:
- `chip_id` (шлях): ID мікросхеми для моделювання
- `sim_type` (тіло): Тип моделювання (OPTIMIZATION, VALIDATION, PERFORMANCE)
- `params` (тіло): Параметри моделювання

**Запит**:
```json
{
  "sim_type": "OPTIMIZATION",
  "params": {
    "qubits": 128,
    "iterations": 1000
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "chip_id": "chip_001",
  "results": {
    "optimized_design": "...",
    "performance_improvement": 15.5
  }
}
```

**Відповідь про помилку**:
```json
{
  "status": "error",
  "message": "Недійсний тип моделювання"
}
```

### 8. Співпраця

#### POST /chip/collaboration/
**Опис**: Почати сесію співпраці для проектування мікросхеми.

**Параметри**:
- `user_id` (тіло): ID користувача, який ініціює співпрацю
- `chip_id` (тіло): ID мікросхеми для співпраці
- `chip_data` (тіло): Дані, що описують мікросхему
- `collaborators` (тіло): Список ID користувачів для співпраці
- `lang` (запит): Мова для сповіщень (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "chip_id": "chip_001",
  "chip_data": {
    "type": "quantum_processor",
    "cores": 128
  },
  "collaborators": ["user_456", "user_789"]
}
```

**Відповідь**:
```json
{
  "status": "success",
  "collab_id": "collab_001",
  "chip_id": "chip_001",
  "message": "Співпрацю розпочато"
}
```

#### POST /chip/collaboration/update
**Опис**: Оновити існуючу сесію співпраці.

**Параметри**:
- `user_id` (тіло): ID користувача, який оновлює співпрацю
- `collab_id` (тіло): ID співпраці для оновлення
- `update_data` (тіло): Дані для оновлення співпраці
- `lang` (запит): Мова для сповіщень (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "collab_id": "collab_001",
  "update_data": {
    "status": "in_progress",
    "notes": "Завершено початковий огляд проекту"
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "collab_id": "collab_001",
  "message": "Співпрацю оновлено"
}
```

### 9. Генерація драйверів

#### POST /chip/driver/
**Опис**: Генерувати драйвер для мікросхеми.

**Параметри**:
- `user_id` (тіло): ID користувача, який генерує драйвер
- `chip_id` (тіло): ID мікросхеми для генерації драйвера
- `chip_data` (тіло): Дані, що описують мікросхему
- `lang` (запит): Мова для сповіщень (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "chip_id": "chip_001",
  "chip_data": {
    "type": "quantum_processor",
    "cores": 128
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "driver_id": "driver_001",
  "chip_id": "chip_001",
  "message": "Драйвер згенеровано"
}
```

#### POST /chip/driver/firmware/update
**Опис**: Оновити прошивку для драйвера мікросхеми.

**Параметри**:
- `user_id` (тіло): ID користувача, який оновлює прошивку
- `driver_id` (тіло): ID драйвера для оновлення
- `update_data` (тіло): Дані для оновлення прошивки
- `lang` (запит): Мова для сповіщень (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "driver_id": "driver_001",
  "update_data": {
    "version": "2.1.0",
    "changelog": "Покращення продуктивності"
  }
}
```

**Відповідь**:
```json
{
  "status": "success",
  "driver_id": "driver_001",
  "message": "Прошивку оновлено"
}
```

### 10. Голосові команди

#### POST /voice/design
**Опис**: Створити проект мікросхеми за допомогою голосових команд.

**Параметри**:
- `user_id` (тіло): ID користувача, який дає голосову команду
- `voice_input` (тіло): Текст голосової команди
- `lang` (запит): Мова для обробки (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "voice_input": "Спроектуй квантовий процесор з 128 ядрами"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "design_id": "design_001",
  "message": "Голосовий проект оброблено"
}
```

#### POST /voice/quest
**Опис**: Ініціювати навчальний квест за допомогою голосових команд.

**Параметри**:
- `user_id` (тіло): ID користувача, який дає голосову команду
- `voice_input` (тіло): Текст голосової команди
- `quest_id` (тіло): ID квесту для ініціації
- `lang` (запит): Мова для обробки (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "voice_input": "Почни навчання з квантового проектування",
  "quest_id": "quest_001"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "quest_id": "quest_001",
  "message": "Квест ініційовано"
}
```

### 11. Інтерфейс BCI

#### POST /bci/command
**Опис**: Обробити команду з інтерфейсу мозок-комп'ютер.

**Параметри**:
- `user_id` (тіло): ID користувача, який надсилає команду BCI
- `command` (тіло): Команда BCI
- `lang` (запит): Мова для обробки (за замовчуванням: "uk")

**Запит**:
```json
{
  "user_id": "user_123",
  "command": "design_chip"
}
```

**Відповідь**:
```json
{
  "status": "success",
  "command": "design_chip",
  "message": "Команду BCI оброблено"
}
```

## Обробка помилок

Всі ендпоінти API слідують узгодженим шаблонам обробки помилок:

### Загальні відповіді про помилки

#### 400 Поганий запит
```json
{
  "status": "error",
  "message": "Недійсні параметри запиту"
}
```

#### 401 Неавторизовано
```json
{
  "status": "error",
  "message": "Потрібна автентифікація"
}
```

#### 403 Заборонено
```json
{
  "status": "error",
  "message": "Доступ заборонено"
}
```

#### 404 Не знайдено
```json
{
  "status": "error",
  "message": "Ресурс не знайдено"
}
```

#### 429 Забагато запитів
```json
{
  "status": "error",
  "message": "Перевищено ліміт запитів"
}
```

#### 500 Внутрішня помилка сервера
```json
{
  "status": "error",
  "message": "Внутрішня помилка сервера"
}
```

## Обмеження швидкості

API реалізовує обмеження швидкості для запобігання зловживанням:
- 100 запитів на хвилину на IP-адресу
- 1000 запитів на годину на автентифікованого користувача

Перевищення цих лімітів призведе до відповіді 429 Too Many Requests.

## Версіонування

Версія API вказана в шляху URL:
```
http://localhost:8000/v1/endpoint
```

Наразі доступна версія 1.0.0.

## API WebSocket

### WebSocket /ws/ar
**Опис**: Комунікація в реальному часі для AR-сповіщень.

**Підключення**:
```
WebSocket ws://localhost:8000/ws/ar
```

**Повідомлення**:
- Клієнт може надсилати будь-яке текстове повідомлення (повертається ехо)
- Сервер надсилає AR-сповіщення в реальному часі

## Підтримка

Для отримання підтримки звертайтесь до команди GlobalScope MultiFrame за адресою support@holomisha.com.